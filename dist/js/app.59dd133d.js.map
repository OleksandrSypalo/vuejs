{"version":3,"sources":["webpack:///src/components/Edit.vue","webpack:///./src/components/Edit.vue?6e58","webpack:///./src/components/Edit.vue","webpack:///src/components/Ads.vue","webpack:///./src/components/Ads.vue?a55d","webpack:///./src/components/Ads.vue","webpack:///./src/components/App.vue","webpack:///src/components/Ad.vue","webpack:///./src/components/Ad.vue?0c8d","webpack:///./src/components/Ad.vue","webpack:///./src/utils.js","webpack:///./src/main.js","webpack:///./src/components/App.vue?046c","webpack:///src/components/Navbar.vue","webpack:///./src/components/Navbar.vue?3c4a","webpack:///./src/components/Navbar.vue","webpack:///./src/random-db.js","webpack:///./src/db.js","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?a82f","webpack:///./src/components/Login.vue","webpack:///./src/auth.js"],"names":["Edit_userToken","auth","getToken","currentUserID","db","get","id","Edit","title","description","dbID","uniq","defineProperty_default","userId","now","render","_vm","this","_h","$createElement","_c","_self","attrs","tag","bg-variant","on","submit","$event","preventDefault","onSubmit","label","label-for","type","required","placeholder","model","value","form","callback","$$v","$set","expression","rows","max-rows","variant","_v","_s","$route","params","staticRenderFns","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","Object","component_normalizer","__webpack_exports__","userToken","Ads_userId","users","values","Ads","username","authorName","authorID","getItems","perPage","length","_this","sort","a","b","staticClass","responsive","striped","fields","items","currentItems","show-empty","scopedSlots","_u","key","fn","data","to","name","size","_e","slot","align","per-page","total-rows","totalRows","currentPage","injectStyle","context","__webpack_require__","__WEBPACK_IMPORTED_MODULE_2__node_modules_vue_loader_lib_runtime_component_normalizer__","__WEBPACK_IMPORTED_MODULE_0__cache_loader_cacheDirectory_E_test_task_test_task_node_modules_cache_cache_loader_babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue___default","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_113291e6_hasScoped_false_optionsId_0_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","Ad","date","trim","sub-title","subtitle","randomText","arg","__WEBPACK_IMPORTED_MODULE_0_random_textblock___default","getTextBlock","minWords","wordsLength","maxWords","minSentences","sentencesLength","maxSentences","terminalPunctuation","randomNumber","max","Math","floor","random","transformNumber","num","replaceDate","currentDate","Date","calendarDate","getMonth","getDate","getFullYear","join","time","getHours","getMinutes","concat","substring","str","len","__WEBPACK_IMPORTED_MODULE_1_vue__","use","__WEBPACK_IMPORTED_MODULE_2_vue_router__","__WEBPACK_IMPORTED_MODULE_3_bootstrap_vue__","__WEBPACK_IMPORTED_MODULE_6_vue_icon__","component","__WEBPACK_IMPORTED_MODULE_14__components_Navbar_vue__","__WEBPACK_IMPORTED_MODULE_13__components_Login_vue__","router","mode","base","__dirname","routes","path","__WEBPACK_IMPORTED_MODULE_11__components_Ads_vue__","__WEBPACK_IMPORTED_MODULE_15__components_Edit_vue__","beforeEnter","from","next","__WEBPACK_IMPORTED_MODULE_9__auth__","loggedIn","query","redirect","fullPath","logout","__WEBPACK_IMPORTED_MODULE_7__db__","drop","__WEBPACK_IMPORTED_MODULE_8__random_db__","initForDemo","window","setTimeout","location","reload","__WEBPACK_IMPORTED_MODULE_12__components_Ad_vue__","test","Number","isInteger","el","h","__WEBPACK_IMPORTED_MODULE_10__components_App_vue__","d","Navbar","toggleable","fixed","customUsername","left","createRandomUser","password","createRandomAd","__WEBPACK_IMPORTED_MODULE_1__utils__","isForcibly","keys","i","set","__WEBPACK_IMPORTED_MODULE_0_E_test_task_test_task_node_modules_babel_runtime_helpers_defineProperty___default","DB_PREFIX","opers","ceil","getLastID","dbName","maxID","triggersData","setTrigger","oper","cb","Array","forEach","currentOper","push","getTrigger","pingToDb","JSON","parse","localStorage","getID","req","resultSearch","keyInDB","keySearch","dataSet","replaceAll","stringify","assign","removeItem","constructor","Login","res","_this2","login","label-class","show","error","pretendRequest","authenticated","token","lastUserID","__WEBPACK_IMPORTED_MODULE_1__db__","hasCallback","onChange","userData","onChangeTriggers","onChangeTriggersData","result"],"mappings":"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","file":"js/app.59dd133d.js","sourcesContent":["<template>\n    <div>\n        <b-card tag=\"article\" bg-variant=\"light\" title=\"Create Ad\">\n            <b-form @submit.prevent=\"onSubmit\">\n                <b-form-group label=\"Title:\" label-for=\"titleArea\">\n                    <b-form-input id=\"titleArea\"\n                                  type=\"text\"\n                                  v-model=\"form.title\"\n                                  required\n                                  placeholder=\"Enter title\"\n                    >\n                    </b-form-input>\n                </b-form-group>\n                <b-form-group label=\"Description:\" label-for=\"descriptionArea\">\n                    <b-form-textarea id=\"descriptionArea\"\n                                     v-model=\"form.description\"\n                                     placeholder=\"Enter description\"\n                                     :rows=\"3\"\n                                     :max-rows=\"6\">\n                    </b-form-textarea>\n                </b-form-group>\n\n                <b-button type=\"submit\" variant=\"primary\">\n                    {{$route.params.id ? 'Save' : 'Create'}}\n                </b-button>\n            </b-form>\n        </b-card>\n    </div>\n</template>\n\n<script>\n    import DB from '../db';\n    import auth from '../auth';\n\n    let userToken = auth.getToken();\n    let currentUserID = userToken ? +DB.get('users', userToken).id : null;\n\n    export default {\n        data() {\n            return {\n                id: null,\n                form: {\n                    title: '',\n                    description: ''\n                }\n            };\n        },\n        beforeMount() {\n            const id = +this.$route.params.id;\n            let data = DB.get('ads', {id: id});\n\n            if (data && currentUserID !== +data.authorID) {\n                this.$router.replace('/' + id);\n            }\n\n            if (id && data) {\n                this.form.title = data.title;\n                this.form.description = data.description;\n                this.id = data.id;\n            }\n        },\n        methods: {\n            onSubmit() {\n                let userToken = auth.getToken();\n                let userId = userToken ? +DB.get('users', userToken).id : null;\n                let id;\n                let dbID;\n\n                if (!this.id) {\n                    id = DB.getLastID('ads') + 1;\n                    dbID = DB.uniq();\n                } else {\n                    id = this.id;\n                    dbID = DB.getID('ads', {id: id});\n                }\n\n                DB.set('ads', {\n                    [dbID]: {\n                        id: id,\n                        title: this.form.title,\n                        description: this.form.description,\n                        authorID: userId,\n                        date: Date.now()\n                    }\n                });\n\n                this.$router.replace('/' + id);\n            }\n        }\n    };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Edit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card',{attrs:{\"tag\":\"article\",\"bg-variant\":\"light\",\"title\":\"Create Ad\"}},[_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('b-form-group',{attrs:{\"label\":\"Title:\",\"label-for\":\"titleArea\"}},[_c('b-form-input',{attrs:{\"id\":\"titleArea\",\"type\":\"text\",\"required\":\"\",\"placeholder\":\"Enter title\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Description:\",\"label-for\":\"descriptionArea\"}},[_c('b-form-textarea',{attrs:{\"id\":\"descriptionArea\",\"placeholder\":\"Enter description\",\"rows\":3,\"max-rows\":6},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"\\n                \"+_vm._s(_vm.$route.params.id ? 'Save' : 'Create')+\"\\n            \")])],1)],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d0b84890\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Edit.vue\n// module id = null\n// module chunks = ","/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"E:\\\\\\\\test_task\\\\\\\\test-task\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Edit.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"E:\\\\\\\\test_task\\\\\\\\test-task\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Edit.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d0b84890\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Edit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Edit.vue\n// module id = null\n// module chunks = ","<template>\n    <div>\n        <div class=\"margin-bottom-1rem\">\n            <component-login></component-login>\n        </div>\n        <b-table responsive striped\n                 class=\"margin-bottom-1rem\"\n                 :fields=\"fields\"\n                 :items=\"currentItems\"\n                 :show-empty=true\n        >\n            <template slot=\"empty\">\n                <div>\n                    <p>There are no records to show</p>\n                    <b-link to=\"/init-demo\">Create ads and users for demo</b-link>\n                </div>\n            </template>\n            <template slot=\"hasEdit\" slot-scope=\"data\">\n                <div v-if=\"data.value.is\" class=\"width-4_5\">\n                    <b-button :to=\"{name: 'delete', params: {id: data.value.id}}\"\n                              variant=\"danger\"\n                              size=\"sm\"\n                    >\n                        <v-icon name=\"trash-2\"></v-icon>\n                    </b-button>\n                    <b-button :to=\"{name: 'edit', params: {id: data.value.id}}\"\n                              variant=\"primary\"\n                              size=\"sm\"\n                    >\n                        <v-icon name=\"edit-2\"></v-icon>\n                    </b-button>\n                </div>\n            </template>\n            <template slot=\"title\" slot-scope=\"data\">\n                <router-link :to=\"{name: 'ad', params:{id: data.value.id}}\">\n                    {{data.value.title}}\n                </router-link>\n            </template>\n        </b-table>\n        <b-pagination align=\"right\"\n                      :per-page=\"perPage\"\n                      v-model=\"currentPage\"\n                      :total-rows=\"totalRows\"\n        ></b-pagination>\n    </div>\n</template>\n\n<script>\n    import DB from '../db';\n    import utils from '../utils';\n    import auth from '../auth';\n\n    let userToken = auth.getToken();\n    let userId = userToken ? +DB.get('users', userToken).id : null;\n    let users = Object.values(DB.get('users'));\n\n    export default {\n        data() {\n            return {\n                perPage: 5,\n                currentPage: 1,\n\n                fields: [\n                    {key: 'id', label: '#'},\n                    {\n                        key: 'title', label: 'Title', formatter: (value, key, item) => {\n                            return {\n                                title: utils.substring(value, 16),\n                                id: item.id\n                            };\n                        }\n                    },\n                    {\n                        key: 'description', label: 'Description', formatter: (value) => {\n                            return utils.substring(value, 50);\n                        }\n                    },\n                    {\n                        key: 'authorID',\n                        label: 'Author',\n                        formatter: (value) => {\n                            let authorName = '-';\n                            users.forEach((userData) => {\n                                if (+userData.id === +value) {\n                                    authorName = userData.username;\n                                    return false; // break\n                                }\n                            });\n\n                            return authorName;\n                        }\n                    },\n                    {\n                        key: 'date',\n                        label: 'Date',\n                        formatter: (value) => {\n                            return value ? utils.replaceDate(value) : '-';\n                        }\n                    },\n                    {\n                        key: 'hasEdit',\n                        label: 'Edit',\n                        formatter: (value, key, item) => {\n                            return {\n                                is: !!(userId && +userId === +item.authorID),\n                                id: item.id\n                            };\n                        }\n                    },\n                ],\n                items: getItems()\n            };\n        },\n        computed: {\n            currentItems() {\n                let firstItemIndex = (this.currentPage - 1) * this.perPage;\n                return this.items.slice(firstItemIndex, firstItemIndex + this.perPage);\n            },\n            totalRows() {\n                return this.items.length;\n            }\n        },\n        created() {\n            auth.onChangeTriggersData.push(loggedIn => {\n                let userId = loggedIn ? +DB.get('users', auth.getToken()).id : null;\n\n                this.fields[5].formatter = (value, key, item) => {\n                    return {\n                        is: !!(userId && +userId === +item.authorID),\n                        id: item.id\n                    };\n                };\n            });\n            DB.setTrigger(['set', 'drop'], 'ads', () => {\n                this.items = getItems();\n            });\n        },\n    };\n\n    function getItems() {\n        return Object\n            .values(DB.get('ads'))\n            .sort((a, b) => {\n                return a.id > b.id ? 1 : -1;\n            });\n    }\n</script>\n\n<style>\n    .width-4_5 {\n        width: 4.5em;\n    }\n\n    .width-4_5 > .btn:first-child {\n        margin-right: 4px;\n    }\n\n    .icon {\n        width: 1em;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Ads.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"margin-bottom-1rem\"},[_c('component-login')],1),_c('b-table',{staticClass:\"margin-bottom-1rem\",attrs:{\"responsive\":\"\",\"striped\":\"\",\"fields\":_vm.fields,\"items\":_vm.currentItems,\"show-empty\":true},scopedSlots:_vm._u([{key:\"hasEdit\",fn:function(data){return [(data.value.is)?_c('div',{staticClass:\"width-4_5\"},[_c('b-button',{attrs:{\"to\":{name: 'delete', params: {id: data.value.id}},\"variant\":\"danger\",\"size\":\"sm\"}},[_c('v-icon',{attrs:{\"name\":\"trash-2\"}})],1),_c('b-button',{attrs:{\"to\":{name: 'edit', params: {id: data.value.id}},\"variant\":\"primary\",\"size\":\"sm\"}},[_c('v-icon',{attrs:{\"name\":\"edit-2\"}})],1)],1):_vm._e()]}},{key:\"title\",fn:function(data){return [_c('router-link',{attrs:{\"to\":{name: 'ad', params:{id: data.value.id}}}},[_vm._v(\"\\n                \"+_vm._s(data.value.title)+\"\\n            \")])]}}])},[_c('template',{slot:\"empty\"},[_c('div',[_c('p',[_vm._v(\"There are no records to show\")]),_c('b-link',{attrs:{\"to\":\"/init-demo\"}},[_vm._v(\"Create ads and users for demo\")])],1)])],2),_c('b-pagination',{attrs:{\"align\":\"right\",\"per-page\":_vm.perPage,\"total-rows\":_vm.totalRows},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62ac51a0\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Ads.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Ads.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"E:\\\\\\\\test_task\\\\\\\\test-task\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Ads.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"E:\\\\\\\\test_task\\\\\\\\test-task\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Ads.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62ac51a0\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Ads.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Ads.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"E:\\\\\\\\test_task\\\\\\\\test-task\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"E:\\\\\\\\test_task\\\\\\\\test-task\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-113291e6\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/App.vue\n// module id = EWfp\n// module chunks = 1","<template>\n    <div>\n        <b-card :title=\"title\" tag=\"article\" :sub-title=\"subtitle\">\n            <p class=\"card-text\">\n                {{description}}\n            </p>\n            <div v-if=\"currentUserHasThisAd\">\n                <b-button :to=\"{name: 'delete', params: {id: $route.params.id}}\" variant=\"danger\">\n                    Delete\n                </b-button>\n                &nbsp;\n                <b-button :to=\"{name: 'edit', params: {id: $route.params.id}}\" variant=\"primary\">\n                    Edit\n                </b-button>\n            </div>\n        </b-card>\n    </div>\n</template>\n\n<script>\n    import DB from '../db';\n    import utils from '../utils';\n    import auth from '../auth';\n\n    let userToken = auth.getToken();\n    let currentUserID = userToken ? +DB.get('users', userToken).id : null;\n\n    export default {\n        data() {\n            return {\n                author: '',\n                date: 0,\n                title: ',',\n                description: '',\n                currentUserHasThisAd: false\n            };\n        },\n        beforeMount() {\n            const id = this.$route.params.id;\n            const data = DB.get('ads', {id: +id});\n\n            this.author = DB.get('users', {id: data.authorID}).username;\n            this.date = data.date;\n            this.title = data.title;\n            this.description = data.description;\n            this.currentUserHasThisAd = (+data.authorID === currentUserID);\n        },\n        computed: {\n            subtitle() {\n                const date = utils.replaceDate(this.date);\n                const author = this.author.trim();\n                return `${author} (${date})`;\n            }\n        }\n    };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Ad.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card',{attrs:{\"title\":_vm.title,\"tag\":\"article\",\"sub-title\":_vm.subtitle}},[_c('p',{staticClass:\"card-text\"},[_vm._v(\"\\n            \"+_vm._s(_vm.description)+\"\\n        \")]),(_vm.currentUserHasThisAd)?_c('div',[_c('b-button',{attrs:{\"to\":{name: 'delete', params: {id: _vm.$route.params.id}},\"variant\":\"danger\"}},[_vm._v(\"\\n                Delete\\n            \")]),_vm._v(\"\\n             \\n            \"),_c('b-button',{attrs:{\"to\":{name: 'edit', params: {id: _vm.$route.params.id}},\"variant\":\"primary\"}},[_vm._v(\"\\n                Edit\\n            \")])],1):_vm._e()])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-334f3761\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Ad.vue\n// module id = null\n// module chunks = ","/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"E:\\\\\\\\test_task\\\\\\\\test-task\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Ad.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"E:\\\\\\\\test_task\\\\\\\\test-task\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Ad.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-334f3761\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Ad.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Ad.vue\n// module id = null\n// module chunks = ","import randomTextblock from 'random-textblock';\n\nexport default {\n    randomText(arg) {\n        return randomTextblock.getTextBlock({\n            minWords: arg.wordsLength,\n            maxWords: arg.wordsLength,\n            minSentences: (arg.sentencesLength || 1),\n            maxSentences: (arg.sentencesLength || 1),\n            terminalPunctuation: arg.sentencesLength ? '.' : ' '\n        }).trim();\n    },\n    randomNumber(max) {\n        return Math.floor(Math.random() * max);\n    },\n    transformNumber(num) {\n        return (('' + num).length === 1 ? '0' : '') + num;\n    },\n    replaceDate(date) {\n        const currentDate = new Date(date);\n        const calendarDate = [\n            this.transformNumber(currentDate.getMonth() + 1),\n            this.transformNumber(currentDate.getDate()),\n            this.transformNumber(currentDate.getFullYear()),\n\n        ].join('/');\n        const time = [\n            this.transformNumber(currentDate.getHours()),\n            this.transformNumber(currentDate.getMinutes())\n        ].join(':');\n\n        return `${calendarDate} ${time}`;\n    },\n    substring(str, len) {\n        return (str.length > len)\n            ? (str.substring(0, len) + '...')\n            : str;\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport BootstrapVue from 'bootstrap-vue';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-vue/dist/bootstrap-vue.css';\nimport Feather from 'vue-icon';\n\nVue.use(VueRouter);\nVue.use(BootstrapVue);\nVue.use(Feather, 'v-icon');\n\nimport DB from './db';\nimport randomDB from './random-db';\n\nimport auth from './auth';\nimport App from './components/App.vue';\nimport Ads from './components/Ads.vue';\nimport Ad from './components/Ad.vue';\nimport Login from './components/Login.vue';\nimport Navbar from './components/Navbar.vue';\nimport Edit from './components/Edit.vue';\n\nVue.component('component-navbar', Navbar);\nVue.component('component-login', Login);\n\nconst router = new VueRouter({\n    mode: 'history',\n    base: __dirname,\n    routes: [\n        {\n            path: '/',\n            component: Ads\n        },\n        {\n            path: '/edit',\n            component: Edit,\n            beforeEnter: (to, from, next) => {\n                if (!auth.loggedIn()) {\n                    next({\n                        path: '/login',\n                        query: {redirect: to.fullPath}\n                    });\n                } else {\n                    next();\n                }\n            }\n        },\n        {\n            path: '/edit/:id',\n            component: Edit,\n            name: 'edit',\n            beforeEnter: (to, from, next) => {\n                if (!auth.loggedIn()) {\n                    next({\n                        path: '/login',\n                        query: {redirect: to.fullPath}\n                    });\n                } else {\n                    next();\n                }\n            }\n        },\n        {\n            path: '/login',\n            component: Login\n        },\n        {\n            path: '/logout',\n            beforeEnter: (to, from, next) => {\n                auth.logout();\n                next('/');\n            }\n        },\n        {\n            path: '/delete/:id',\n            name: 'delete',\n            beforeEnter: (to, from, next) => {\n                if (to.params && to.params.id) {\n                    DB.drop('ads', {id: +to.params.id});\n                }\n                next('/');\n            }\n        },\n        {\n            path: '/init-demo',\n            beforeEnter: (to, from, next) => {\n                auth.logout();\n                DB.use(randomDB).initForDemo(true);\n                next('/');\n                window.setTimeout(() => {\n                    window.location.reload();\n                }, 1);\n            }\n        },\n        {\n            path: '/:id',\n            name: 'ad',\n            component: Ad,\n            beforeEnter: (to, from, next) => {\n                if (/^[0-9]+$/.test(to.params.id) && Number.isInteger(+to.params.id)) {\n                    next();\n                } else {\n                    next('/');\n                }\n            }\n        }\n    ]\n});\n\nnew Vue({\n    el: '#app',\n    router,\n    render: h => h(App)\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col-12 margin-bottom-1rem\"},[_c('component-navbar')],1),_c('div',{staticClass:\"col-12 margin-bottom-1rem\"},[_c('router-view')],1)])])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-113291e6\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/App.vue\n// module id = TIGI\n// module chunks = 1","<template>\n    <div class=\"navbar-shadow\">\n        <b-navbar toggleable=\"md\" fixed=\"top\" type=\"dark\" variant=\"primary\">\n            <b-navbar-brand to=\"/\">Hello {{customUsername || 'guest'}}!</b-navbar-brand>\n\n            <b-navbar-nav>\n                <b-nav-item v-if=\"loggedIn\" to=\"/edit\" left>Create Ad</b-nav-item>\n            </b-navbar-nav>\n\n            <b-navbar-nav class=\"ml-auto\">\n                <b-nav-item v-if=\"loggedIn\" to=\"/logout\" left>Logout</b-nav-item>\n            </b-navbar-nav>\n        </b-navbar>\n    </div>\n</template>\n\n<script>\n    import auth from '../auth';\n\n    export default {\n        data() {\n            return {\n                loggedIn: auth.loggedIn(),\n                customUsername: auth.username()\n            };\n        },\n        created() {\n            auth.onChangeTriggersData.push(loggedIn => {\n                this.loggedIn = loggedIn;\n                this.customUsername = loggedIn ? auth.username() : '';\n            });\n        }\n    };\n</script>\n\n<style>\n    .navbar-shadow {\n        position: relative;\n        height: 56px;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Navbar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"navbar-shadow\"},[_c('b-navbar',{attrs:{\"toggleable\":\"md\",\"fixed\":\"top\",\"type\":\"dark\",\"variant\":\"primary\"}},[_c('b-navbar-brand',{attrs:{\"to\":\"/\"}},[_vm._v(\"Hello \"+_vm._s(_vm.customUsername || 'guest')+\"!\")]),_c('b-navbar-nav',[(_vm.loggedIn)?_c('b-nav-item',{attrs:{\"to\":\"/edit\",\"left\":\"\"}},[_vm._v(\"Create Ad\")]):_vm._e()],1),_c('b-navbar-nav',{staticClass:\"ml-auto\"},[(_vm.loggedIn)?_c('b-nav-item',{attrs:{\"to\":\"/logout\",\"left\":\"\"}},[_vm._v(\"Logout\")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-90e000dc\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Navbar.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Navbar.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"E:\\\\\\\\test_task\\\\\\\\test-task\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Navbar.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"E:\\\\\\\\test_task\\\\\\\\test-task\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Navbar.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-90e000dc\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Navbar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Navbar.vue\n// module id = null\n// module chunks = ","import utils from './utils';\n\nexport default {\n    initForDemo(isForcibly) {\n        if (isForcibly || !Object.keys(this.get('users')).length) {\n            this.drop('users');\n\n            /* create 2 users */\n            for (let i = 0; i < 2; i++) {\n                this.set('users', {\n                    [this.uniq()]: createRandomUser(i + 1)\n                });\n            }\n        }\n\n        if (isForcibly || !Object.keys(this.get('ads')).length) {\n            this.drop('ads');\n\n            /* create 20 random ads */\n            for (let i = 0; i < 20; i++) {\n                this.set('ads', {\n                    [this.uniq()]: createRandomAd(i + 1)\n                });\n            }\n        }\n    }\n};\n\nfunction createRandomUser(id) {\n    return {\n        id: id,\n        username: 'user' + id,\n        password: '1111'\n    };\n}\n\nfunction createRandomAd(id) {\n    return {\n        id: id,\n        title: utils.randomText({\n            wordsLength: utils.randomNumber(5)\n        }),\n        description: utils.randomText({\n            wordsLength: utils.randomNumber(12),\n            sentencesLength: 2\n        }),\n        authorID: Math.random() > 0.5 ? 1 : 2, // user1 or user2\n        date: Date.now() - (utils.randomNumber(1e8) + 1e8) // now - (1...2) days\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/random-db.js","/* globals localStorage */\nconst DB_PREFIX = '__db__';\n\nexport default {\n    opers: ['get', 'set', 'drop'],\n    uniq() {\n        return Date.now() + '' + Math.ceil(Math.random() * 1e4);\n    },\n    getLastID(dbName) {\n        const data = this.get(dbName);\n        let maxID = 0;\n\n        for (let key in data) {\n            maxID = Math.max(maxID, +data[key].id);\n        }\n        maxID = Math.max(maxID, Object.keys(data).length);\n\n        return maxID;\n    },\n\n    triggersData: {},\n    setTrigger(oper, dbName, cb) {\n        const opers = (oper === '*')\n            ? this.opers\n            : (oper instanceof Array)\n                ? oper\n                : [oper];\n\n        opers.forEach((currentOper) => {\n            this.triggersData[currentOper + '.' + dbName] = (this.triggersData[currentOper + '.' + dbName] || []);\n            this.triggersData[currentOper + '.' + dbName].push(cb);\n        });\n    },\n    getTrigger(oper, dbName) {\n        if (this.triggersData[oper + '.' + dbName] instanceof Array) {\n            this.triggersData[oper + '.' + dbName].forEach((fn) => {\n                fn();\n            });\n        }\n    },\n\n    pingToDb(dbName) {\n        return JSON.parse(localStorage[DB_PREFIX + dbName] || '{}');\n    },\n    getID(dbName, req) {\n        let data = this.pingToDb(dbName);\n        let resultSearch = false;\n\n        if (req instanceof Object) {\n            for (let keyInDB in data) {\n\n                for (let keySearch in req) {\n                    if (data[keyInDB][keySearch] !== req[keySearch]) {\n                        resultSearch = false;\n                        break;\n                    } else {\n                        resultSearch = keyInDB;\n                    }\n                }\n\n                if (resultSearch) {\n                    break;\n                }\n            }\n        }\n\n        return resultSearch || null;\n    },\n    get(dbName, key) {\n        let data = this.pingToDb(dbName);\n\n        if (key instanceof Object) {\n            for (let keyInDB in data) {\n                let resultSearch = false;\n\n                for (let keySearch in key) {\n                    if (data[keyInDB][keySearch] !== key[keySearch]) {\n                        resultSearch = false;\n                        break;\n                    } else {\n                        resultSearch = true;\n                    }\n                }\n\n                if (resultSearch) {\n                    return this.get(dbName, keyInDB);\n                }\n            }\n        } else {\n            this.getTrigger('get', dbName);\n\n            return key ? (data[key] || {}) : data;\n        }\n    },\n    set(dbName, dataSet, replaceAll) {\n        let data;\n\n        if (replaceAll) {\n            localStorage[DB_PREFIX + dbName] = JSON.stringify(dataSet);\n        } else {\n            data = this.pingToDb(dbName);\n            localStorage[DB_PREFIX + dbName] = JSON.stringify(Object.assign(data, dataSet));\n            this.getTrigger('set', dbName);\n        }\n\n        return dataSet;\n    },\n    drop(dbName, key) {\n        let data;\n\n        if (!key) {\n            localStorage.removeItem(DB_PREFIX + dbName);\n        } else {\n            data = this.pingToDb(dbName);\n\n            if (key instanceof Object) {\n                for (let keyInDB in data) {\n                    let resultSearch = false;\n\n                    for (let keySearch in key) {\n                        if (data[keyInDB][keySearch] !== key[keySearch]) {\n                            resultSearch = false;\n                            break;\n                        } else {\n                            resultSearch = true;\n                        }\n                    }\n\n                    if (resultSearch) {\n                        this.drop(dbName, keyInDB);\n                    }\n                }\n            } else {\n                delete data[key];\n                this.set(dbName, data, true);\n                this.getTrigger('drop', dbName);\n            }\n        }\n    },\n    use(constructor) {\n        return Object.assign(this, constructor);\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/db.js","<template>\n    <div v-if=\"!loggedIn\">\n        <b-card tag=\"article\" bg-variant=\"light\" title=\"Login Form\">\n            <b-form @submit.prevent=\"login\" class=\"row\">\n                <b-form-group class=\"col-4\" label=\"Username:\" label-class=\"text-sm-left\">\n                    <b-input v-model=\"username\"\n                             id=\"username\"\n                             placeholder=\"Enter Username\"\n                    />\n                </b-form-group>\n                <b-form-group class=\"col-4\" label=\"Password:\" label-class=\"text-sm-left\">\n                    <b-input v-model=\"password\"\n                             type=\"password\"\n                             id=\"password\"\n                             placeholder=\"Enter Password\"\n                    />\n                </b-form-group>\n                <b-form-group class=\"col-4\" label=\"&nbsp;\">\n                    <b-button class=\"btn-block\" type=\"submit\" variant=\"primary\">Submit</b-button>\n                </b-form-group>\n            </b-form>\n            <div v-if=\"error\">\n                <b-alert show\n                         variant=\"danger\"\n                         class=\"no-margin-bottom\"\n                >{{error}}\n                </b-alert>\n            </div>\n        </b-card>\n    </div>\n</template>\n\n<script>\n    import auth from '../auth';\n\n    export default {\n        data() {\n            return {\n                loggedIn: auth.loggedIn(),\n                customUsername: auth.username(),\n                username: 'user1',\n                password: '1111',\n                error: false\n            };\n        },\n        methods: {\n            login() {\n                this.error = false;\n\n                auth.login({\n                    username: this.username,\n                    password: this.password\n                }, (loggedIn, res) => {\n                    if (loggedIn) {\n                        this.$router.replace(this.$route.query.redirect || '/');\n                    } else {\n                        this.error = res.error || 'Unknown error';\n                    }\n                });\n            }\n        },\n        created() {\n            auth.onChangeTriggersData.push(loggedIn => {\n                this.loggedIn = loggedIn;\n                this.customUsername = loggedIn ? auth.username() : '';\n            });\n        }\n    };\n</script>\n<style>\n    .no-margin-bottom {\n        margin-bottom: 0;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.loggedIn)?_c('div',[_c('b-card',{attrs:{\"tag\":\"article\",\"bg-variant\":\"light\",\"title\":\"Login Form\"}},[_c('b-form',{staticClass:\"row\",on:{\"submit\":function($event){$event.preventDefault();return _vm.login($event)}}},[_c('b-form-group',{staticClass:\"col-4\",attrs:{\"label\":\"Username:\",\"label-class\":\"text-sm-left\"}},[_c('b-input',{attrs:{\"id\":\"username\",\"placeholder\":\"Enter Username\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})],1),_c('b-form-group',{staticClass:\"col-4\",attrs:{\"label\":\"Password:\",\"label-class\":\"text-sm-left\"}},[_c('b-input',{attrs:{\"type\":\"password\",\"id\":\"password\",\"placeholder\":\"Enter Password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('b-form-group',{staticClass:\"col-4\",attrs:{\"label\":\"&nbsp;\"}},[_c('b-button',{staticClass:\"btn-block\",attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Submit\")])],1)],1),(_vm.error)?_c('div',[_c('b-alert',{staticClass:\"no-margin-bottom\",attrs:{\"show\":\"\",\"variant\":\"danger\"}},[_vm._v(_vm._s(_vm.error)+\"\\n            \")])],1):_vm._e()],1)],1):_vm._e()}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-01e5cc69\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"E:\\\\\\\\test_task\\\\\\\\test-task\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"E:\\\\\\\\test_task\\\\\\\\test-task\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-01e5cc69\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Login.vue\n// module id = null\n// module chunks = ","import DB from './db';\n\nexport default {\n    login(req, cb) {\n        const hasCallback = (typeof cb === 'function');\n\n        if (localStorage.token) {\n            if (hasCallback) {\n                cb(true);\n            }\n        } else {\n            pretendRequest(req, (res) => {\n                if (res.error) {\n                    if (hasCallback) {\n                        cb(false, res);\n                    }\n                } else {\n                    localStorage.token = res.token;\n                    if (hasCallback) {\n                        cb(true);\n                    }\n                    this.onChange(true);\n                }\n            });\n        }\n    },\n    logout(cb) {\n        localStorage.removeItem('token');\n        if (typeof cb === 'function') {\n            cb();\n        }\n        this.onChange(false);\n    },\n    getToken() {\n        return localStorage.token;\n    },\n    loggedIn() {\n        return !!this.getToken();\n    },\n    username() {\n        let userData = DB.get('users', this.getToken());\n\n        return userData ? userData.username : null;\n    },\n\n    onChange(authenticated) {\n        this.onChangeTriggers(authenticated);\n        return authenticated;\n    },\n\n    onChangeTriggersData: [],\n    onChangeTriggers(result) {\n        this.onChangeTriggersData.forEach((fn) => {\n            fn(result);\n        });\n    }\n};\n\nfunction pretendRequest(req, cb) {\n    let users;\n    let authenticated = false;\n    let token = false;\n    let lastUserID = 0;\n\n    if (!req.username) {\n        return cb({\n            error: 'Please enter username'\n        });\n    }\n\n    users = DB.get('users');\n\n    for (let key in users) {\n        if (users[key].username === req.username) {\n            if (users[key].password === req.password) {\n                authenticated = true;\n                token = key;\n                break;\n            } else {\n                return cb({\n                    error: 'Invalid password!'\n                });\n            }\n        }\n    }\n\n    if (!authenticated) {\n        lastUserID = DB.getLastID('users');\n        token = DB.uniq();\n\n        DB.set('users', {\n            [token]: {\n                id: lastUserID + 1,\n                username: req.username,\n                password: ''\n            }\n        });\n    }\n\n    cb({\n        token: token\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth.js"],"sourceRoot":""}